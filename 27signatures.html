<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Primary Meta Tags -->
  <title>27Signatures - Stories From Across the World | Bhavik Makwana</title>
  <meta name="title" content="27Signatures - Stories From Across the World | Bhavik Makwana" />
  <meta name="description"
    content="A unique digital art project featuring an interactive 3D baseball with signatures collected from New York City and Tokyo. Explore personal stories and cultural connections through this innovative web experience." />
  <meta name="keywords"
    content="27signatures, interactive art, 3D baseball, New York City, Tokyo, digital art, Three.js, cultural exchange, travel stories, web development, 3D graphics" />
  <meta name="author" content="Bhavik Makwana" />
  <meta name="robots" content="index, follow" />
  <meta name="language" content="English" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://bhavik-makwana.github.io/27signatures.html" />
  <meta property="og:title" content="27Signatures - Stories From Across the World" />
  <meta property="og:description"
    content="A unique digital art project featuring an interactive 3D baseball with signatures collected from New York City and Tokyo. Explore personal stories and cultural connections." />
  <meta property="og:image" content="https://bhavik-makwana.github.io/assets/animation.gif" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="Bhavik Makwana's Blog" />
  <meta property="og:locale" content="en_US" />
  <meta property="article:author" content="Bhavik Makwana" />
  <meta property="article:published_time" content="2025-07-06T00:00:00Z" />
  <meta property="article:modified_time" content="2025-07-20T00:00:00Z" />
  <meta property="article:section" content="Digital Art" />
  <meta property="article:tag" content="interactive art, 3D graphics, travel, cultural exchange" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://bhavik-makwana.github.io/27signatures.html" />
  <meta property="twitter:title" content="27Signatures - Stories From Across the World" />
  <meta property="twitter:description"
    content="A unique digital art project featuring an interactive 3D baseball with signatures collected from New York City and Tokyo." />
  <meta property="twitter:image" content="https://bhavik-makwana.github.io/assets/animation.gif" />
  <meta property="twitter:creator" content="@bhavbhav__" />

  <!-- Additional SEO Meta Tags -->
  <meta name="theme-color" content="#2c2c2c" />
  <meta name="msapplication-TileColor" content="#2c2c2c" />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="canonical" href="https://bhavik-makwana.github.io/27signatures.html" />

  <!-- Structured Data / JSON-LD -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "27Signatures - Stories From Across the World",
      "description": "A unique digital art project featuring an interactive 3D baseball with signatures collected from New York City and Tokyo. Explore personal stories and cultural connections through this innovative web experience.",
      "image": "https://bhavik-makwana.github.io/assets/animation.gif",
      "author": {
        "@type": "Person",
        "name": "Bhavik Makwana",
        "url": "https://bhavik-makwana.github.io"
      },
      "publisher": {
        "@type": "Person",
        "name": "Bhavik Makwana",
        "url": "https://bhavik-makwana.github.io"
      },
      "datePublished": "2025-07-06T00:00:00Z",
      "dateModified": "2025-07-20T00:00:00Z",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://bhavik-makwana.github.io/27signatures.html"
      },
      "articleSection": "Digital Art",
      "keywords": "27signatures, interactive art, 3D baseball, New York City, Tokyo, digital art, Three.js, cultural exchange, travel stories, web development, 3D graphics"
    }
    </script>

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="header">
    <nav class="nav">
      <div class="nav-brand">
        <h1>Bhavs Blog</h1>
      </div>
      <div class="nav-menu">
        <a href="index.html" class="nav-link">Home</a>
      </div>
    </nav>
  </header>

  <section class="blog-post">
    <div class="container">
      <article class="post">
        <h2 class="post-title"></h2>
        <div class="post-meta">
          <span class="post-author">By Bhavik Makwana</span>
          <br />
          <span class="post-date">Created: July 6th, 2025; </span>
          <span class="post-date">Last Updated: July 20th, 2025</span>
        </div>
        <div class="post-contents">
          <ul>
            <li>
              <a href="#part1">The Story Behind 27Signatures</a>
            </li>
            <li>
              <a href="#part2">Building the Website</a>
            </li>
            <li>
              <a href="#part3">Optimizing the Website</a>
            </li>
          </ul>
        </div>
        <div class="post-content">
          <h3 id="part1">The Story Behind 27Signatures</h3>
          <p>
            Way back in 2022 I went on a work trip to Austin and NYC. One
            thing I was recommended to do was catch a game whilst I was out
            there. I ended up deciding on a Mets game but there was torrential
            downpour the day I was meant to go so the game was cancelled.
            Instead I went around taking photos of the city and whilst I got
            some good shots it felt like New York had been phorographed to
            death at this point. I then remembered I bought a baseball at the
            mlb store, put 2+2 together, knicked a sharpie from the office and
            came up with the idea to get this baseball signed by the people of
            New York at both iconic landmarks and cool places I'd been to and
            take a photo of the ball at those locations. This turned out to be
            a really fun project. I got to meet some really cool people whilst
            seeing the city and took myself out of my comfort zone. Each mark
            on my baseball tells a story, an ecletic collection of personal
            memoirs that are irreproducible capturing a small part of what
            makes New York so special.
          </p>
          <p>
            Fast forward to 2024 and I'm planning a trip to Japan with a bunch
            of photographer friends. Again I didn't want to be shooting the
            same stuff as everyone else so I thought it'd be fun to recreate
            my NYC project in Tokyo since Japan has a massive baseball culture
            too. I made the decision to only do this in Tokyo despite
            travelling across the country to be symmetric with the NYC
            project. Although I met a bunch of amazing people in Tokyo some of
            my favourite interactions ended up being from other cities! I
            guess those memories will just be for me. More importantly, I knew
            there would be a language barrier which would make this trickier
            in Tokyo so I rushed to get a website up and running to make it
            look more legit. I wanted to build this for ages but didn't have
            time until the advent of LLMs. Pairing this site along with a
            friendly smile and some broken Japanese, I managed to get around.
          </p>
          <figure>
            <img width="40%" src="assets/signup.png" alt="Sign up form with probably poorly translated japanese" />
            <figcaption><i>The sign up form I used to explain the project to people</i></figcaption>
          </figure>
          <p>
            One thing I found really interesting was in the US most people
            signed their own name, whereas in Japan most people ended up
            signing their businesses name. I dunno if its a reflection on the
            culture of American individualism vs Japanese collectivism, or
            something got lost in translation and they thought they were about
            to get some great free promo for their business.
          </p>
          <p>
            Every signature I've collected, whether in the bustling streets of
            New York or the vibrant avenues of Tokyo, represents a meaningful
            cultural exchange. They're more than just names; they're stories
            of the amazing people I've met.
          </p>
          <p>
            Want to see these unique signatures and read more about the people
            behind them? Head over to
            <a target="_blank" href="https://27signatures.com">27signatures.com</a>
            to explore the full project! You can find out more about the
            signatures and each person I met.
          </p>
          <p>
            I also started posting TikToks about the project you can find
            <a target="_blank" href="https://www.tiktok.com/@bhavbhav__">here</a>. This was also quite fun and I really
            wanna share this with more
            people, but alas, life got in the way and I stopped posting. I'm
            hoping to finish by the end of the year. It's been interesting
            learning how to make short form content and I do want to start
            again in the future.
          </p>
        </div>

        <div class="post-gifs" style="
              display: flex;
              justify-content: space-between;
              margin: 2rem 0;
            ">
          <figure>
            <img style="width: 100%" src="assets/animation.gif" alt="New York City" />
            <figcaption><i>New York City</i></figcaption>
          </figure>
          <figure>
            <img style="width: 100%" src="assets/animation_tky.gif" alt="Tokyo" />
            <figcaption><i>Tokyo</i></figcaption>
          </figure>
        </div>

        <p>
          Ok cool, now we're all familiar with the what, where, when, why lets
          get into the how (The who is available at
          <a target="_blank" href="https://27signatures.com">27signatures.com</a>
          :p). It's pretty interesting how it all came together. At least I
          think so.
        </p>

        <h3 style="margin-bottom: 1rem; color: #2c2c2c" id="part2">
          Building the website
        </h3>
        <div class="post-content">
          <p>
            The key thing I wanted the website to have was a 3D baseball you
            could interact with. I wanted you to be able to spin the ball, see
            the signatures, click on them and learn more about it (also see
            the associated photo). I did take Computer Graphics at university
            which did help me understand the basics of Three.js. I also made
            heavy use of Cursor throughout the process to help me build the
            website. It allowed me to focus on the actual content and not the
            boilerplate code. The base knowledge from uni was very important
            since it helped me piece together the spaghetti code I ended up
            writing/generating. I did come up with the initial stylings at
            least.
          </p>

          <p>
            The first thing I had to do was create a 3d model of a baseball.
            Since I'm unfamiliar on interacting with 3d models I stuck to
            using a sphere since luckily, baseballs are spheres :D.
          </p>
          <div class="canvas-container">
            <canvas id="canvas"></canvas>
          </div>
          <p>
            The next thing to do was to apply a texture to the sphere. I found
            a baseball texture online that mostly fit my needs. I then used AI
            to upscale the texture and loaded the assets I needed in Photoshop
            to make it look like a Mets/Tokyo Swallows baseball (The ones I
            used in real life). This was tricky since the textures had to be
            distorted a bit. I think it was using polar coordinates, I
            couldn't figure out what the actual mapping was and I had a bit of
            a deadline on this so I ended up using trial and error to
            understand the mapping and get a reasonable approximation.
          </p>
          <figure>
            <img style="width: 40%" src="assets/baseball_upscaled_rot.jpg" alt="Texture" />
            <figcaption><i>The texture I used for the NYC baseball</i></figcaption>
          </figure>
          <p>
            Once that was sorted I had to figure out how in the world I was
            going to get the signatures on the sphere. There's a lot of them
            and trial and error was not cutting it, neither was mapping it
            from x,y to polar coordinates. Depending on who you ask, occams
            razor suggests that the simplest way to get them in the right spot,
            is to draw them onto the right spot on a sphere. Through this
            reasoning I found out that I could do this using Blender. In
            Blender, I created a Sphere, load my texture on top of it and then
            using my iPad in sidecar mode so I could draw on it with my Apple
            Pencil! This is why I said occams razor depending on who you ask.
            It's an insane workaround to get the job done but it is simple in
            principle. I then exported the texture back to an image and
            applied it to the sphere.
          </p>
          <figure>
            <img style="width: 80%" src="assets/blender.gif" alt="Blender" />
            <figcaption>
              <i>Drawing on the sphere in Blender and outsourcing the projection to them</i>
            </figcaption>
          </figure>
          <p>
            So at this point I had a sphere, with a good texture on it. The
            next hurdle was mapping a clicklable circle on the sphere above
            each signature. This was a chance to use all that cool maths I
            learned during sixth form and university. The thing is though,
            having a day job and ramping back up on a topic like this is
            non-trivial along with a tight deadline to get this ready before I
            went to Japan. I ended up figuring out how to place the clicklable
            circles on the sphere through trial and error. I have since
            revisited this and understood the mapping.
          </p>

          <p>
            Turned out to be quite interesting to reverse engineer this. The
            tl;dr on this is it was pure luck I got it working to begin with
            with a mixed origin coordinate system. Beyond coordinate mapping I
            also applied a rotation to the sphere to get it to the right angle
            on the web page which made it even trickier to get the coordinates
            right. I ended up reverse engineering the mapping to fix the
            misalignment in my xyz coordinates and xy coordinates. Below
            details how the mapping now works.
          </p>

          <h4>Part A: The Coordinate System</h4>
          <p>
            The first step was to define the (x, y) location of each signature
            on the flat 2D image texture. The trial-and-error process has
            resulted in a mixed-origin coordinate system on a 512x512 canvas:
          </p>
          <ul>
            <li>
              <strong>Centered X-axis:</strong> Coordinates range from `[-256,
              256]`, where `x: 0` is the horizontal center.
            </li>
            <li>
              <strong>Top-left origin Y-axis:</strong> Coordinates range from
              `[0, 512]`, where `y: 0` is the top edge.
            </li>
          </ul>
          <p>
            For our example, we'll use the "MoCurly" signature from Little
            Island, which has the coordinate `(x: 190, y: 70)`.
          </p>

          <h4>Part B: The Mapping - From 2D Pixels to a 3D Point</h4>
          <p>
            To get this 2D point onto the 3D sphere, the code follows a
            standard graphics pipeline.
          </p>
          <!-- <blockquote> -->
          <p><strong>1. Normalization to UV Coordinates:</strong></p>
          <p>
            The code first converts the pixel coordinate into a normalized
            <a target="_blank" href="https://en.wikipedia.org/wiki/UV_mapping">UV</a>
            coordinate, where `u` and `v` are values between 0.0 and 1.0.
            Thanks to the mixed-origin system, the formulas are:
          </p>
          <p style="text-align: center">
            <math>
              <mi>u</mi>
              <mo>=</mo>
              <mfrac>
                <mrow>
                  <mi>x</mi>
                </mrow>
                <mrow>
                  <mi>width</mi>
                </mrow>
              </mfrac>
              <mo>+</mo>
              <mn>0.5</mn>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>v</mi>
              <mo>=</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mfrac>
                <mrow>
                  <mi>y</mi>
                </mrow>
                <mrow>
                  <mi>height</mi>
                </mrow>
              </mfrac>
            </math>
          </p>
          <p>For the "MoCurly" signature at `(190, 70)`:</p>
          <p style="text-align: center">
            <math>
              <mi>u</mi>
              <mo>=</mo>
              <mfrac>
                <mrow>
                  <mn>190</mn>
                </mrow>
                <mrow>
                  <mn>512</mn>
                </mrow>
              </mfrac>
              <mo>+</mo>
              <mn>0.5</mn>
              <mo>=</mo>
              <mn>0.371</mn>
              <mo>+</mo>
              <mn>0.5</mn>
              <mo>=</mo>
              <mn>0.871</mn>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>v</mi>
              <mo>=</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mfrac>
                <mrow>
                  <mn>70</mn>
                </mrow>
                <mrow>
                  <mn>512</mn>
                </mrow>
              </mfrac>
              <mo>=</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mn>0.137</mn>
              <mo>=</mo>
              <mn>0.863</mn>
            </math>
          </p>
          <br />

          <p>
            <strong>2. Equirectangular Projection to Spherical
              Coordinates:</strong>
          </p>
          <p>
            Next, the `UV` values are mapped to
            <a target="_blank" href="https://en.wikipedia.org/wiki/Spherical_coordinate_system">spherical
              coordinates</a>
            <strong>theta</strong> (θ, the azimuthal angle around the
            equator) and <strong>phi</strong> (φ, the polar angle from the
            top pole).
          </p>
          <p style="text-align: center">
            <math>
              <mi>&theta;</mi>
              <mo>=</mo>
              <mi>u</mi>
              <mo>&middot;</mo>
              <mn>2</mn>
              <mi>&pi;</mi>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>&phi;</mi>
              <mo>=</mo>
              <mi>v</mi>
              <mo>&middot;</mo>
              <mi>&pi;</mi>
            </math>
          </p>
          <p>Following the example signature at 0.871, 0.863:</p>
          <p style="text-align: center">
            <math>
              <mi>&theta;</mi>
              <mo>=</mo>
              <mn>0.871</mn>
              <mo>&middot;</mo>
              <mn>2</mn>
              <mi>&pi;</mi>
              <mo>&asymp;</mo>
              <mn>5.472</mn>
              <mspace width="thickmathspace"></mspace>
              <mtext>radians</mtext>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>&phi;</mi>
              <mo>=</mo>
              <mn>0.863</mn>
              <mo>&middot;</mo>
              <mi>&pi;</mi>
              <mo>&asymp;</mo>
              <mn>2.711</mn>
              <mspace width="thickmathspace"></mspace>
              <mtext>radians</mtext>
            </math>
          </p>
          <br />

          <p>
            <strong>3. Conversion to Cartesian Coordinates (X, Y, Z):</strong>
          </p>
          <p>
            Finally, the spherical angles are converted into a
            <a target="_blank" href="https://en.wikipedia.org/wiki/Cartesian_coordinate_system">3D Cartesian</a>
            point on the surface of the stationary sphere (with radius
            `r=2`).
          </p>
          <p style="text-align: center">
            <math>
              <mi>X</mi>
              <mo>=</mo>
              <mi>r</mi>
              <mo>&middot;</mo>
              <mi>sin</mi>
              <mrow>
                <mo>(</mo>
                <mi>&phi;</mi>
                <mo>)</mo>
              </mrow>
              <mo>&middot;</mo>
              <mi>cos</mi>
              <mrow>
                <mo>(</mo>
                <mi>&theta;</mi>
                <mo>)</mo>
              </mrow>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>Y</mi>
              <mo>=</mo>
              <mi>r</mi>
              <mo>&middot;</mo>
              <mi>cos</mi>
              <mrow>
                <mo>(</mo>
                <mi>&phi;</mi>
                <mo>)</mo>
              </mrow>
            </math>
          </p>
          <p style="text-align: center">
            <math>
              <mi>Z</mi>
              <mo>=</mo>
              <mi>r</mi>
              <mo>&middot;</mo>
              <mi>sin</mi>
              <mrow>
                <mo>(</mo>
                <mi>&phi;</mi>
                <mo>)</mo>
              </mrow>
              <mo>&middot;</mo>
              <mi>sin</mi>
              <mrow>
                <mo>(</mo>
                <mi>&theta;</mi>
                <mo>)</mo>
              </mrow>
            </math>
          </p>
          <p>
            For our signature, this places the point at approximately `(x:
            0.56, y: -1.82, z: -0.58)` on the surface of the un-rotated
            sphere.
          </p>
          <!-- </blockquote> -->

          <h4>Part C: The Final World Transformation</h4>
          <p>
            The point `(0.56, -1.82, -0.58)` represents the correct location,
            but only before the sphere is oriented in the 3D world. The final
            step is a separate action where a rotation is applied to the
            sphere object as a whole.
          </p>
          <pre><code>
  // This rotation is applied to the entire sphere object
  sphere.rotation.x = Math.PI;
  sphere.rotation.y = (0.1 * Math.PI) - Math.PI;
  sphere.rotation.z = Math.PI / 2;
              </code></pre>
          <p>
            This transformation takes the calculated 3D point and moves it to
            its final visible position. The heavy rotation around the Y-axis
            messes up the <code>x</code> position a lot from its starting
            point on the 2D map. This is why I had to end up reverse engineer
            the correct 2d coordinates from my trial and error first batch.
          </p>

          <div class="canvas-container">
            <canvas id="canvas2"></canvas>
          </div>
          <p>
            After that was done the rest was pretty straightforward. Make it
            work for mobile, add the gallery, add descriptions about each
            signature/photo and also use GenAI to translate the descriptions
            into Japanese.
          </p>
          <p>
            Originally I had it so a modal would pop up when you clicked on a
            signature. I didn't like this as it made it really clunky to
            navigate the site. Instead I now add the display card on the right
            in desktop or below in mobile. This feels much nicer to me.
          </p>
          <h3 id="part3">Optimizing the Website</h3>
          <p>
            There's still a bunch of work to be done to the website to
            optimize its SEO. I really want it to be more discoverable because
            I think this is a really cool project and I want to share it with
            more people.
          </p>

          <p>
            To come up with a plan I ended up meta-prompting Gemini to give me
            a prompt to optimize my website. It ended up giving me the
            following prompt:
          </p>
          <p class="post-content prompt">
            Project: Optimizing "27 Signatures" - A 3D Interactive Art Project
            <br />
            Website: 27signatures.com <br />
            Project Goal: To significantly enhance the online visibility of
            "27 Signatures" in both Google search results and recommendations
            from Large Language Models (LLMs). The secondary goal is to drive
            targeted traffic from relevant art, technology, and travel
            communities. <br />
            <br />
            Core Project Description: <br />
            "27 Signatures" is a unique digital art project that presents a
            collection of signatures obtained during trips to New York City
            (2022) and Tokyo (2024). The centerpiece of the website is an
            interactive 3D rendering of a baseball adorned with these
            signatures. Each signature is linked to a personal memory, story,
            or recording from the time of its collection, creating a
            narrative-rich, interactive experience. The project merges 3D
            technology with personal storytelling, transforming a physical
            memento into a digital exploration of memory. A gallery section
            provides a more static and detailed view of each signature and its
            accompanying story. I am seeking your expertise in SEO and web
            design for art and photography showcase websites to audit "27
            Signatures" and provide a comprehensive, actionable strategy to
            achieve our visibility and traffic goals. <br />
            Part 1: Foundational SEO and Technical Optimization <br />
            Please analyze the website (and its source code, which I will
            provide) and answer the following: <br />
            <br />
            On-Page SEO: <br />
            Keyword Strategy: Given the project's niche (3D art, interactive
            storytelling, NYC/Tokyo travel memories), what would be an
            effective keyword strategy? Please suggest primary, secondary, and
            long-tail keywords we should target. Meta Data: Propose optimized
            meta titles and descriptions for the homepage, the main 3D
            interactive page, and the gallery pages. How can we best use
            metadata to convey the unique nature of this project in search
            results? Heading Structure & Content: Evaluate the current heading
            structure (H1s, H2s, etc.) and the textual content on the site.
            How can we improve the existing copy for both user engagement and
            search engine crawling? Image & 3D Model SEO: What are the best
            practices for optimizing the 3D model and any static images in the
            gallery for search? This includes file names, alt text, and any
            relevant schema markup.
            <br /><br />Technical SEO: <br />
            Site Speed & Performance: The interactive 3D element is central to
            the user experience. What are the key performance metrics we
            should be concerned with, and how can we optimize the loading time
            of the 3D sphere without compromising its quality?
            Mobile-Friendliness: Assess the mobile user experience. Is the
            interactive element fully functional and intuitive on mobile
            devices? What improvements can be made? Crawlability &
            Indexability: Is the site easily crawlable by search engines,
            especially given its JavaScript-heavy interactive nature? Are
            there any barriers to indexing the content, particularly the
            stories associated with each signature? Structured Data (Schema
            Markup): What specific schema types (e.g., ArtWork, Exhibition,
            CreativeWork) should be implemented to help search engines
            understand the content and context of the website?
            <br /><br />Part 2: Content Strategy & LLM Optimization <br />
            My goal is for "27 Signatures" to be recommended by LLMs when
            users ask for things like "interesting digital art projects,"
            "creative uses of 3D on the web," or "unique travel story
            websites."
            <br /><br />
            Content-Gaps & Opportunities: <br />
            Beyond the existing content, what new content could we create to
            build topical authority? Would a blog section be beneficial? If
            so, what kind of topics should we cover (e.g., the technology
            behind the project, deep dives into specific NYC/Tokyo stories,
            the art of signature collection)? How can we better structure the
            existing "story" content to be more easily parsed and understood
            by LLMs?
            <br /><br />
            LLM & Semantic Search Optimization: <br />
            How can we use natural language and a conversational tone to align
            with the query style of LLM users? What are the key entities
            (people, places, concepts) that we should be explicitly defining
            on the site to improve its knowledge graph and, consequently, its
            standing with LLMs? Part 3: Off-Page SEO & Traffic Generation
            <br />
            How can we proactively get "27 Signatures" in front of relevant
            audiences?
          </p>
          <p>
            I then combined this with a report from lighthouse in the chrome
            developer tools.
          </p>
          <figure>
            <img style="
                width: 60%;
                justify-content: center;
                display: block;
                margin: 0 auto;
              " src="assets/lighthouse.png" alt="Lighthouse Report" />
            <figcaption><i>Generating the lighthouse report of the website</i></figcaption>
          </figure>
          <p>
            This gave me a great action plan to improve the quality of the
            site.
          </p>
          <p>
            Whenever I get a chance I'll instruct an LLM to go through the
            tasklist this generated to help me optimize the website.
          </p>

          <h4 style="margin-top: 2rem; color: #666;">Update: January 1st, 2026</h4>
          <p>
            I finally got around to making some changes to the site! Before diving into the lighthouse report theres a
            few things I wanted to do.
            1. Add a loading screen
            2. Add map location Tags
            3. Improve the layout/lighting

            I'd been seeing a lot of buzz around Claude Opus 4.5 online (and specifically claude code) but as a Gemini
            maxi I hadn't got round to trying it yet. I gotta say it blew me away and was a nicer experience than using
            gemini-cli.
            I also played around with <a href="https://www.wispr.ai/" target="_blank">Wispr Flow</a> /dictation to talk
            to claude code. Its cool but I'm not used to it yet and I ended up pulling a lot of info from the
            browser/screen so it was actually easier to type it still.

            <video controls style="max-width: 100%; height: auto; border-radius: 8px; margin: 1rem 0;">
              <source src="assets/new_ui.webm" type="video/webm">
              <source src="assets/new_ui.mov" type="video/quicktime">
              Your browser does not support the video tag.
            </video>

            Also some point around July I also went from modal popups on the main page to a card that gets created
            alongside the baseball in desktop or below it on mobile. Feels cleaner and more modern to me.

          </p>
          <p>
            Then finally, I got around to tackling the performance issues. The approach was interesting - I used
            <strong>Gemini 3 Pro</strong> to analyze the Lighthouse report and generate an initial optimization plan,
            then fed specific pieces of that plan into <strong>Claude Code</strong> to do it for me.
            Claude was genuinely excellent at this, I didn't have to do much fancy prompting and it got a lot of what I
            wanted. We'd have a discussion about a general plan then it would go through an internal todo list to work
            through the tasks.
            It was great at explaining things I wasnt aware of either (web workers, using ffmpeg, setting up cloudflare,
            etc.)
          </p>

          <p>
            The results from the report were not a great start. <strong>Performance score: 69 (nice)</strong>, with an
            LCP (Largest Contentful Paint) of
            <strong>23.7 seconds</strong>. The biggest problem was 4.3MB GIF loading animation among other things.
          </p>

          <p>
            The loading animation (<code>animation.gif</code>) was almost as large as the rest of the site combined. I
            didn't realise at the time that GIFs are notoriously inefficient for video-like content because they store
            each frame uncompressed.
          </p>
          <p>
            To fix it claude code used ffmpeg to convert the gifs to mp4 and webm media files giving insane file size
            savings.
          </p>
          <pre><code>ffmpeg -i animation.gif -movflags faststart -pix_fmt yuv420p animation.mp4
ffmpeg -i animation.gif -c vp9 -b:v 0 -crf 41 animation.webm</code></pre>
          <p></p>
          <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
            <tr style="background: #f5f5f5;">
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">Format</th>
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">Size</th>
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">Reduction</th>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">GIF</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">4.3 MB</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">-</td>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">MP4</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">1.2 MB</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">72%</td>
            </tr>
            <tr style="background: #e8f5e9;">
              <td style="padding: 0.5rem; border: 1px solid #ddd;">WebM</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">346 KB</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;"><strong>92%</strong></td>
            </tr>
          </table>
          <p>The HTML now serves WebM with MP4 fallback in a loop</p>
          <pre><code>&lt;video autoplay loop muted playsinline fetchpriority="high"&gt;
  &lt;source src="assets/animation.webm" type="video/webm"&gt;
  &lt;source src="assets/animation.mp4" type="video/mp4"&gt;
&lt;/video&gt;</code></pre>
          <p>
            The <code>fetchpriority="high"</code> attribute tells the browser this is the LCP element - prioritize
            loading it first.
          </p>

          <h4>Render-Blocking Resources</h4>
          <p>
            Lighthouse flagged Three.js, jQuery, and Google Fonts as render-blocking. The browser couldn't paint
            anything until these finished downloading and executing.
          </p>
          <figure>
            <pre style="background: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto;">
┌─────────────────────────────────────────────────────────────────┐
│                    BEFORE (Blocking)                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  HTML ████                                                      │
│           ↓ blocked                                             │
│  Three.js ░░░░░░░░████████████                                  │
│                              ↓ blocked                          │
│  jQuery   ░░░░░░░░░░░░░░░░░░████████                            │
│                                      ↓ blocked                  │
│  Fonts    ░░░░░░░░░░░░░░░░░░░░░░░░░░████████                    │
│                                              ↓                  │
│  PAINT    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█  (finally!)       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    AFTER (Non-blocking)                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  HTML ████                                                      │
│          ↓                                                      │
│  PAINT   █  (immediate!)                                        │
│          │                                                      │
│          └── Three.js ████████████ (deferred)                   │
│          └── jQuery   ████████ (deferred)                       │
│          └── Fonts    ████████ (async swap)                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘</pre>
            <figcaption><i>Before vs After: How resources load relative to first paint</i></figcaption>
          </figure>
          <p>
            This was done by deferring javascript from loading. It tells the browser to download the content in the
            background so it doesn't block rendering and executes after the HTML is parsed.
          </p>
          <pre><code>&lt;!-- Before --&gt;
&lt;script src="https://cdnjs.cloudflare.com/.../three.min.js"&gt;&lt;/script&gt;

&lt;!-- After --&gt;
&lt;script defer src="https://cdnjs.cloudflare.com/.../three.min.js"&gt;&lt;/script&gt;</code></pre>
          <p>
            <strong>Font fix:</strong> Google Fonts was loading via <code>@import</code> in CSS (blocking) and
            <code>&lt;link&gt;</code> in HTML (also blocking). The solution is the preload + onload trick:
          </p>
          <pre><code>&lt;link rel="preload"
      href="https://fonts.googleapis.com/css2?family=Yesteryear&family=Poppins"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"&gt;</code></pre>
          <p>
            This loads the font CSS asynchronously - the page renders immediately with fallback fonts, then swaps when
            the custom fonts are ready.
          </p>

          <p>
            Splitting the data in <code>data.js</code> was also a neat optimisation. The file contained all signature
            metadata for NYC and TKY taking up 79KB. This loaded
            in full even though NYC is displayed first and Tokyo needs to be toggled too. By splitting this we can
            roughly half the file sizes.
          </p>
          <pre><code>// Before: One massive file loaded everywhere
import { signatureData, signatureDataTKY } from "./data.js"  // 79KB

// After: Load only what you need
import { signatureData } from "./data-nyc.js"      // 38KB
import { signatureDataTKY } from "./data-tky.js"   // 40KB</code></pre>
          <p>
            Gallery pages now only load the data they need, and the main page loads both files in parallel instead of
            sequentially.
          </p>

          <h4>Caching with Cloudflare</h4>
          <p>
            As much as I love Digital Ocean App Platformm it didn't allow me to control the cache header which for a
            static site is one of the lowest hanging fruits. With it having the browser cache fixed at 10 seconds it
            wasn't ideal for reloads.
            Claude gave me a couple options and I didn't fancy turnign this into a droplet so I decided to go with
            Cloudflare, it was a good opportunity for me to get some basic familiarity with their services too.
          </p>
          <p>
            Cloudflare acts as a reverse proxy, caching assets at edge locations worldwide. Most importantly, it allows
            me to configure cache rules.
          </p>
          <figure>
            <pre style="background: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto;">
┌──────────┐      ┌─────────────────────┐      ┌────────────────┐
│          │      │     CLOUDFLARE      │      │                │
│   User   │ ───► │  ┌───────────────┐  │ ───► │ Digital Ocean  │
│          │      │  │ Edge Cache    │  │      │   (Origin)     │
│          │ ◄─── │  │ - 1yr assets  │  │ ◄─── │                │
│          │      │  │ - 1day HTML   │  │      │                │
└──────────┘      │  └───────────────┘  │      └────────────────┘
                  └─────────────────────┘

First request:  User → Cloudflare → Digital Ocean → Cloudflare (cache) → User
Next requests:  User → Cloudflare (cache hit!) → User</pre>
            <figcaption><i>Cloudflare caches assets at edge locations closer to users</i></figcaption>
          </figure>
          <p>Cache rules configured:</p>
          <ul>
            <li><code>/assets/*</code>, <code>/js/*</code>, <code>/css/*</code> → <strong>1 year</strong> browser + edge
              cache</li>
            <li>HTML pages → 1 day edge cache, 1 hour browser cache</li>
          </ul>

          <h4>Culmination of Work</h4>
          <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
            <tr style="background: #f5f5f5;">
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">Metric</th>
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">Before</th>
              <th style="padding: 0.5rem; border: 1px solid #ddd; text-align: left;">After</th>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">Performance Score</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">69</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd; background: #e8f5e9;"><strong>90+</strong></td>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">LCP</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">23.7s</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd; background: #e8f5e9;"><strong>&lt; 2.5s</strong></td>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">Animation Payload</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">7 MB (GIFs)</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd; background: #e8f5e9;"><strong>668 KB (WebM)</strong>
              </td>
            </tr>
            <tr>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">Render-blocking time</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd;">3.6s</td>
              <td style="padding: 0.5rem; border: 1px solid #ddd; background: #e8f5e9;"><strong>0</strong></td>
            </tr>
          </table>

          <h4>Whats left?</h4>
          <p>
            Lighthouse still flagged ~3 seconds of main thread work, mostly from Three.js initialization. Claude
            suggested Web Workers as a potential further optimization, which I found interesting enough to document even
            though I didn't implement it just yet.
          </p>
          <p>
            Normally, JavaScript runs on the browser's main thread - the same thread responsible for rendering, handling
            user input, and keeping the page responsive. Heavy computation blocks everything else.
          </p>
          <p>
            Web Workers let you run JavaScript in a separate background thread. The worker can do expensive work without
            freezing the UI.
          </p>
          <figure>
            <pre style="background: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto;">
┌─────────────────────────────────────────────────────────────────┐
│                    WITHOUT Web Workers                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Main Thread: │ Render │░░ THREE.JS INIT ░░│ Render │ Input │   │
│                         ↑                                       │
│                    Page frozen!                                 │
│                    User can't interact                          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    WITH Web Workers                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Main Thread: │ Render │ Input │ Render │ Input │ Render │      │
│                    ↑         ↑         ↑                        │
│               Always responsive!                                │
│                                                                 │
│  Worker:      │░░░░░░░ THREE.JS RENDERING ░░░░░░░│               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘</pre>
            <figcaption><i>Web Workers move heavy computation off the main thread</i></figcaption>
          </figure>
          <p>
            For Three.js specifically, you can use <strong>OffscreenCanvas</strong> - a relatively new API that lets you
            transfer a canvas to a worker and do all the WebGL rendering there:
          </p>
          <pre><code>// main.js - Transfer canvas to worker
const canvas = document.getElementById('canvas');
const offscreen = canvas.transferControlToOffscreen();
const worker = new Worker('render-worker.js');
worker.postMessage({ canvas: offscreen }, [offscreen]);

// render-worker.js - All Three.js runs here
self.onmessage = function(e) {
  const canvas = e.data.canvas;
  const renderer = new THREE.WebGLRenderer({ canvas });
  // Setup scene, camera, animate... all off main thread!
};</code></pre>
          <p>
            <strong>Why I didn't implement it:</strong> The current loading animation already hides the initialization
            time effectively. In pratice it loads pretty quick now and I needed to step away from this project for a
            bit. It felt a bit like diminishing returns at this point as I already hit the goal I set out to do.

          </p>

          <h4>Accessibility & SEO Fixes</h4>
          <p>
            While optimizing, Claude also caught some accessibility issues Lighthouse flagged:
          </p>
          <ul>
            <li><strong>Invalid HTML:</strong> Had <code>&lt;div&gt;</code> inside <code>&lt;ul&gt;</code> for the
              language toggle - changed to <code>&lt;li&gt;</code></li>
            <li><strong>Missing landmark:</strong> Wrapped main content in <code>&lt;main&gt;</code> element for screen
              readers</li>
            <li><strong>Color contrast:</strong> Language toggle text was too light (#666 on #f0f0f0) - darkened to #333
            </li>
            <li><strong>Meta descriptions:</strong> Added unique descriptions to all pages for better SEO</li>
          </ul>

          <h4>Conclusion</h4>
          <p>
            The website is in much better shape and I am thoroughly impressed with Anthropics offering.
          </p>
          <p>
            Total time: about 2 hours from Lighthouse score 69 to 90+. Not bad for a New Year's Day project.
          </p>
        </div>
      </article>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="script.js"></script>
  <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>

</html>